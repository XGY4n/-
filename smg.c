#include "reg52.h" 
#include "delay.h"
#define uchar unsigned char
#define unit unsigned int 
uchar zixing[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0xff,0xbf,0x7f};
uchar weix[8]={0x01,0x02,0x04,0x08,0x10,0x20,0x40,0x80};
uchar duanx[8]={0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff};
void showLed(){
	 static unsigned char index=0;
	 P0=weix[index];
	 P2=((P2&0x1f)|0xc0);
	 P2&=0x1f;
		
	 P0=duanx[index];
	 P2=((P2&0x1f)|0xe0);
	 P2&=0x1f;
	 
	 P2=((P2&0x1f)|0xe0);
	 P2&=0x1f;
	 index++;
		//DelayUs2x(1000);
	 if(index==8) index=0;
}
void updateLed(unsigned char index, unsigned char digit){
 duanx[index]=zixing[digit];
}
void addDot (unsigned char index){
 duanx[index]=duanx[index]&0x7f;
}